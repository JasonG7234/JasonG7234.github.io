<!DOCTYPE HTML>
<html>
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-M96NVP2DZ7"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());
		gtag('config', 'G-M96NVP2DZ7');
	</script>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<title>Blank Slate</title>
	<link rel="icon" href="https://blog-cdn.everhour.com/blog/wp-content/uploads/2020/12/Priorities-management.jpg">
	<link type="text/css" rel="stylesheet" href="main.css"/>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600' rel='stylesheet' type='text/css'>
	<style>
		html{
			font-family: 'Open Sans', sans-serif;
			height: 100vh;
		}
		body {
			min-height: 100%;
			margin: 0px;
			height:100%;
		}

		.container {
			width: 100%;
			height: 100vh;
			min-height: 100%;
			text-align: center;
			position: relative;
		}

		.card {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			border-radius: 8px;
			color: #111;
			margin: 0;
			width: min(80vw, 900px);
			max-width: 900px;
			height: 260px;
			text-align: center;
			background-color: #e2e2e2;
			border: 3px solid #000;
			box-shadow: inset 0 0 0 2px #ff7a00;
			font-size: 48px;
			display: flex;
			align-items: center;
			justify-content: center;
			user-select: none;
			box-sizing: border-box;
			padding: 20px;
		}

		@media only screen and (max-width: 480px) {
			.card {
				width: 90vw;
				height: 180px;
				font-size: 22px;
				border-width: 2px;
				box-shadow: inset 0 0 0 2px #ff7a00;
			}
		}
	</style>
</head>
<body id="home" class="body">
	<div id="all" class="container">
		<div id="prompt" class="card"></div>
	</div>

	<script>
		(async function () {
			try {
				// items.txt lives alongside this game.html in /blankslate
				const res = await fetch('./items.txt', { cache: 'no-store' });
				if (!res.ok) throw new Error('Failed to load items.txt');
				const text = await res.text();

				const items = text
					.split(/\r?\n/)
					.map(s => s.trim())
					.filter(s => s.length > 0 && !s.startsWith('//'));

				const el = document.getElementById('prompt');
				if (!el) return;

				if (!items.length) {
					el.textContent = 'No items found.';
					return;
				}

				const pick = items[Math.floor(Math.random() * items.length)];
				el.textContent = pick;
			} catch (err) {
				const el = document.getElementById('prompt');
				if (el) el.textContent = 'Error loading prompt.';
				// Optional: log for debugging
				console.error(err);
			}
		})();
	</script>
</body>
</html>
