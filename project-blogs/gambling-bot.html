<!DOCTYPE HTML>
<html>
<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-M96NVP2DZ7"></script>
	<script>
  		window.dataLayer = window.dataLayer || [];
  		function gtag(){dataLayer.push(arguments);}
  		gtag('js', new Date());
  		gtag('config', 'G-M96NVP2DZ7');
	</script>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<title>Sports Gambling Model</title>
	<link rel="icon" href="../images/icon.png">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
	<link type="text/css" rel="stylesheet" href="../main.css"/>
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,600' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>
<body id="projects_body" class="body">
	<header id="header-1">
		<a href="../index.html">
			<img id="logo" src="../images/icon.png" alt="logo">
		</a>
		<nav id="nav">
			<a href="../about.html" class="internal_links">About</a>
			<a href="../resume.html" class="internal_links">Resume</a>
            <a href="../projects.html" class="internal_links">Projects</a>
			<a href="../nba_draft.html" class="internal_links">NBA Draft</a>
			<a href="../contact.html" class="internal_links">Contact</a>
		</nav>
	</header>
	<header id="header-2">
		<nav class="navbar custom-toggler">
			<a href="../index.html">
				<img id="logo" src="../images/icon.png" alt="logo">
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
			  <span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNavAltMarkup">
			  <div class="navbar-nav">
				<a class="nav-item nav-link" href="../about.html">About</a>
				<a class="nav-item nav-link" href="../resume.html">Resume</a>
        <a class="nav-item nav-link" href="../projects.html">Projects</a>
				<a class="nav-item nav-link" href="../nba_draft.html">NBA Draft</a>
				<a class="nav-item nav-link" href="../contact.html">Contact</a>
			  </div>
			</div>
		</nav>
	</header>
	<main id="projects_main">
    <div class="container">
      <div class="blog_header">
        <h1 class="blog_title">Projects</h1>
        <p class="blog_description">Here are some fun things I've worked on.</p>
      </div>
      <div class="row">
	  	<div class="col-sm-3 col-sm-offset-1">
          <div class="sticky-top">
            <div class="sidebar_module sidebar_module_inset">
              <h4>About</h4>
              <p>I like to work on random projects. On this page, I'll document some of the unique and fun projects/interests of mine. Inspired (mostly) by <a href="https://tinyprojects.dev">tinyprojects.dev</a>.</p>
            </div>
            <div class="sidebar_module">
              <h4>Archives</h4>
              <ol class="list_unstyled">
								<li><a href="startups.html">Tech Startup Culture</a></li>
                <li><a href="gambling-bot.html">Sports Gambling Bot</a></li>
                <li><a href="website.html">Making this Website</a></li>
								<li><a href="draft-model.html">NBA Draft ML Model</a></li>
                <li><a href="magic-mirror.html">Magic Mirror</a></li>
              </ol>
            </div>
          </div>
        </div><!-- / blog-sidebar -->
        <div class="col-sm-8 blog_main">
          <div class="blog_post">
            <h2 class="blog_post_title">How easy is it to make a profitable sports gambling bot in a month?</h2>
            <p class="blog_post_meta">April 22, 2021</p>
            <p>I think every male on the planet wants to find a get-rich-quick scheme betting on sports. 99% of the time, betting is just a fun thing to do when watching sports to make the game mean more.</p>
            <p>1% of the time, however, someone figures out some consistent formula that beats the sportsbooks and makes legitimate profits. Usually, this comes after years of tweaking your model and backtesting to devise a model that out-performs Vegas just 52% of the time.</p>
			<p>I didn't want to wait that long.</p>
			<h3>I wanted to make a profitable sports gambling model in a month.</h3><br>
            <p>To clarify, however, I didn't think I would actually make a profitable model. I didn't pretend to think I had some magic idea that no one else did. I just thought I would give myself a month to give it a shot and see what the process would be like. I think sports betting is fun and I like to program, why wouldn't I combine my interests to try to make money?</p>
			<p>The original project idea in my head was to use Python to make an NBA model that predicts the score based on team statistics + pace metrics. My personal "twist" was to somehow quantify each team's schedule (back-to-backs, 3 games in 4 nights, on a road trip, etc) along with injuries for more accurate predictions. I know this isn't actually breaking ground, but this was just my original idea.</p>
			<p>From there, I was planning to give away the picks for free by integrating with <a href="https://developer.twitter.com/en/docs">Twitter's API</a> to tweet the best bets each day.</p>
			<p>At the end, as a stretch goal, I would save all the picks and each result to a CSV file to hopefully create a machine learning model by next season.</p>
			<br><center><img class="blog-pic" src="../images/project-blogs/gambling-bot/original-gambling-diagram.png" alt="original gambling diagram"/></center><br>
			<p>So, I started off the process strictly doing research. I wanted to see what free resources were available that would get me all the stats I need, and also the best way to programmatically pull odds and lines from different books and even make the bets.</p>
			<p>I found a few interesting articles, like <a href="https://towardsdatascience.com/building-my-first-machine-learning-model-nba-prediction-algorithm-dee5c5bc4cc1">this</a>, but didn't find anything that helped me collect the data. That is, until I found the NBA stats holy grail: <a href="https://github.com/swar/nba_api">nba api</a>.</p>
			<p>NBA API is a Python wrapper for the free NBA.com API. This Python wrapper came with documentation on all 97+ distinct endpoints that NBA.com supports. The image below is just a snapshot of some of the documented endpoints.</p>
			<br><center><img class="blog-pic" src="../images/project-blogs/gambling-bot/nba-api-endpoints.png" alt="nba api endpoints"/></center><br>
			<p>For the purposes of this model, I was planning on using one endpoint listed here and one that wasn't. The plan was to use <code>TeamGameLog</code> to find the schedule and recent game locations for each team playing each day, and then additionally use <code>TeamEstimatedMetrics</code> to get the team's pace and scoring efficiency metrics to predict the score. 
			<p>However, before I got deep into this idea, one of my friends recommended a better idea.</p>
			<h3>He was up 23 units halfway through the month betting MLB strikeout props.</h3><br>
			<p>I still felt like I had time to pivot to a different model if it was a relatively easy algorithm, and I can't argue with results; being up 23 units in 2 weeks is otherworldly.</p>
			<p>Digging deeper, I found out that this "model" was remarkably simple.</p>
			<br><center><img class="blog-pic" src="../images/project-blogs/gambling-bot/final-gambling-diagram.png" alt="final gambling diagram"/></center><br>
			<ul>
			<li>Outlined in the picture above, I scrape <a href="https://www.fantasypros.com/mlb/projections/daily-pitchers.php">fantasypros</a> & <a href="https://www.numberfire.com/mlb/daily-fantasy/daily-baseball-projections">numberfire</a> using <a href="https://www.selenium.dev/documentation/en/webdriver/#:~:text=Selenium%20WebDriver%20refers%20to%20both,and%20more%20concise%20programming%20interface.">Selenium Webdriver</a>, which is a Python library that controls a browser. The two sites offered daily strikeout projections for each pitcher on the day.</li>
			<li>After creating a table full of all the pitchers and their projections from both sites, I scrape <a href="https://www.oddsboom.com/baseball/mlb/">oddsboom</a> to pull each game and all the strikeout odds from every major sportsbook in an easy, consistent format.</li>
			</ul>
			<br><center><img class="blog-pic" src="../images/project-blogs/gambling-bot/oddsboom-props.png" alt="oddsboom props"/></center><br>
			<p>At this point, all the data is there. For each pitcher, I calculate all the sportsbooks projections and their odds, and then create a confidence interval based on the combination of the odds (-150) and the projections (5.5 strikeouts). Developing these confidence intervals proved challenging because I had to find a programmatic way of determining if it is better to bet on a confident prediction with bad odds or a weak prediction with profitable odds. This is what I came up with.</p>
			<br><center><img class="blog-pic-large" src="../images/project-blogs/gambling-bot/confidence-interval-code.png" alt="confidence interval code"/></center><br>
			<p>Now I don't come from any sort of statistics background, so I created one projections number based on the average of the projections from the two sites and the closest projection to the sportsbook's strikeout number. Then I averaged those two numbers together and subtracted it from the sportsbook's strikeout number to create a confidence interval with just the strikeout predictions without the odds.</p>
			<p>I then converted the odds to decimals and finally multiplied the odds number and the strikeout confidence interval for one concrete number. This happens to work successfully as both the confidence interval and the gambling units.</p>
			<p>And that's the model. Now, the two outputs were also similarly easy.</p>
			<p>Outputting tables to CSV files is so core to Python I won't go into the details of it. Integrating with the Twitter API, alternatively, was a breeze. I created an account, navigated to <a href="https://developer.twitter.com/en/portal/dashboard">my developer dashboard</a>, created an app and filled out a few questions, and soon enough I had access to my Twitter API keys.</p>
			<p>Using <a href="https://docs.tweepy.org/en/latest/">Tweepy</a> as a Python wrapper for the API, I was able to easily set up the account and send tweets.</p>
			<h3>Make sure to follow <a href="https://twitter.com/StrikeoutProps">@StrikeoutProps</a> if you want to see the daily LOCKS in action!</h3>
			<br><center><img class="blog-pic" src="../images/project-blogs/gambling-bot/twitter-account.png" alt="twitter account"/></center><br>
			<p>The predictions started going live on April 23rd, and the results... are a little bit better than average</p>
			<p>Since, the model is up 4.7 units and 13-10 overall in record. Even though we are "up" 4.7 units, I'm not sure how profitable it really is because often times the bets are made on minus odds (like -150), and I haven't had time to calculate the overall money gain. Even so, the model can definitely be improved in a few ways.
			<ul><li>The projections generally love going under on elite pitcher strikeout numbers. Guys like <a href="https://www.baseball-reference.com/players/d/degroja01.shtml">Jacob deGrom</a> and <a href="https://www.baseball-reference.com/players/b/bauertr01.shtml">Trevor Bauer</a> are having historic seasons and are routinely going over their strikeout predictions. 
			<li>The confidence intervals typically prefer "safer" projections with "worse" odds. Essentially, betting <a href="https://www.baseball-reference.com/players/c/colege01.shtml">Gerritt Cole</a> over 6.5 strikeouts @ -150 if his projections are ~7.5 strikeouts is considered to be preferred over betting Cole at over 6.5 strikeouts @ +150 if his projections are ~6.7 strikeouts. If you look at each pitching prop as roughly a 50/50, you would always be better served taking the side with the better odds. I don't think the model reflects that enough.</p> 
			</ul>
			<p>The core tenant of these projects to me, however, is to see how much I can learn and complete in a certain period of time. I wanted to see if I could come up with a sports gambling model that makes money in a month, and I think that I can. I'm not sure how profitable it truly is, but it's something. More than likely I am getting lucky for a period of time, but realistically it's impossible to find a million dollar formula in a month.</p>
			<h3>I'm happy enough I got to learn about sports gambling and grow my skills.</h3><br>
			<p>I had a few stretch goals I wanted to complete but didn't have the time. Along with making the improvements to the model, I wanted to try <a href="https://aws.amazon.com/">hosting with AWS</a>, programmatically get the results of the previous game results instead of manually, and maybe even make the picks myself on FanDuel before tweeting them.</p>
			<p>But I didn't get to them, and that's fine. I still have a <a href="https://twitter.com/StrikeoutProps">working strikeout prediction model that gives out picks for free</a>.</p>
			<h3>And I think that's pretty cool.</h3><br>
			<p>Now it's time to make some money.</p>
			
          </div><!-- /.blog_post -->
        </div><!-- /.blog_main -->
      </div><!-- /.row -->
    </div>
    </main>
    <footer id="projects_footer">Got any questions? Feel free to <a href="contact.html">shoot me a message</a>.<br>
    This blog format was templated from <a href="https://codepen.io/msatlewal/pen/MEPLLw">this link.</a></footer>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.bundle.min.js" integrity="sha512-iceXjjbmB2rwoX93Ka6HAHP+B76IY1z0o3h+N1PeDtRSsyeetU3/0QKJqGyPJcX63zysNehggFwMC/bi7dvMig==" crossorigin="anonymous"></script>
</body>
</html>
